---
title: Untity学习记录-实现一个完整的2D游戏Demo-02-规则瓦片和动态瓦片
published: 2025-03-31
tags: ['Unity','游戏','demo','2d']
description: 使用Untiy时间一个2D冒险游戏demo
image: https://cdn.jsdelivr.net/gh/Flandre923/CDN@latest/img/20250331195820.png
category: Unity
draft: false
---
本博客是对于[勇者传说](https://www.bilibili.com/video/BV1uZ421U7Qz/?spm_id_from=333.1387.upload.video_card.click)教程的学习笔记。

讲解了 Unity 中 Tile Palette 的两种实用工具，用于快速绘制游戏场景地图：**规则瓦片 (Rule Tiles)**  和 **动画瓦片 (Animated Tiles)** 。

**一、规则瓦片 (Rule Tiles)**

1. **概念：**  规则瓦片允许根据周围相邻瓦片的配置，自动选择并绘制合适的瓦片图案。这避免了手动为每个连接处选择瓦片的繁琐操作。
2. **创建规则瓦片资源：**

    * 在 Project 窗口的指定文件夹（例如 `Assets/Tilemap/Rule Tile`）中，右键单击并选择 `Create -> 2D -> Tiles -> Rule Tile`。
    * 给规则瓦片资源命名（例如 `ground 1`）。
3. **配置规则：**

    * 在 Inspector 窗口中，可以看到规则瓦片的配置界面。
    * **Default Sprite:**  可以设置一个默认显示的瓦片。
    * **Rules:**  通过点击 "+" 按钮添加新的规则。每个规则定义了在特定相邻瓦片配置下应该绘制哪个瓦片。
    * **九宫格规则：**  每个规则都有一个九宫格，代表着当前瓦片及其周围八个相邻瓦片的位置。

      * 点击九宫格中的每个格子可以切换其状态：

        * 空白：表示该位置没有瓦片。
        * 勾选：表示该位置必须有瓦片。
        * 问号：表示该位置的瓦片可以是任意类型。
    * **Output:**  设置符合当前规则时输出的瓦片。

      * **Single:**  输出单个指定的瓦片。
      * **Random:**  从指定的多个瓦片中随机选择一个输出。可以设置随机瓦片的数量，并逐个选择。
    * **优先级 (Priority)：**  规则按照从上到下的顺序匹配，优先级越高的规则越先被应用。可以通过拖拽规则来调整其优先级。
    * **Noise：**  控制随机瓦片选择的随机性。
4. **创建不同类型的规则瓦片：**

    * 可以为平台的不同部分创建不同的规则，例如：

      * **边缘瓦片：**  定义平台左右两侧的边缘图案，规则需要指定相邻位置是否有其他平台瓦片。
      * **中间瓦片：**  定义平台中间可以无限延伸的部分，可以使用随机输出，让中间的图案有变化。
      * **拐角瓦片：**  定义平台连接处的内角和外角图案，需要更精确地指定周围瓦片的配置。
5. **在 Tile Palette 中使用规则瓦片：**

    * 将创建好的规则瓦片资源从 Project 窗口拖拽到 Tile Palette 窗口中。
    * 选择规则瓦片，然后使用笔刷或矩形工具在场景中绘制。规则瓦片会根据周围的瓦片自动选择合适的图案进行绘制。

**二、动画瓦片 (Animated Tiles)**

1. **概念：**  动画瓦片允许创建动态的瓦片，通过按顺序播放一系列静态图片来实现动画效果。
2. **创建动画瓦片资源：**

    * 在 Project 窗口的指定文件夹（例如 `Assets/Tilemap/Animated Tile`）中，右键单击并选择 `Create -> 2D -> Tiles -> Animated Tile`。
    * 给动画瓦片资源命名（例如 `waterfall left`）。
3. **配置动画：**

    * 在 Inspector 窗口中，可以看到动画瓦片的配置界面。
    * **Sprites:**  通过设置 `Number of Sprites` 来指定动画包含的帧数，然后逐个选择动画所需的静态图片。为了方便管理，可以事先对动画帧的图片进行命名。
    * **Min Speed 和 Max Speed:**  设置动画播放的速度范围。如果希望动画速度固定，可以将这两个值设置为相同。
4. **创建多个动画瓦片实现复杂动画：**

    * 对于像瀑布这样的动画，可能需要创建多个动画瓦片资源，分别控制动画的不同部分（例如左、中、右）。
5. **在 Tile Palette 中使用动画瓦片：**

    * 将创建好的动画瓦片资源从 Project 窗口拖拽到 Tile Palette 窗口中。
    * 选择动画瓦片，然后使用笔刷或矩形工具在场景中绘制。绘制后，在 Game 视图中运行游戏，就可以看到动画效果。